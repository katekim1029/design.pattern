<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<title>Iterator Pattern</title>
</head>

<body>

<script>

// https://en.wikipedia.org/wiki/Iterator_pattern#JavaScript

// JavaScript, as part of ECMAScript 6, supports the iterator pattern with any object
// that provides a next() method, which returns an object with two specific properties: done and value.
// Here's an example that shows a reverse array iterator:

function reverseArrayIterator(array) {
    var index = array.length - 1;
    return {
       next: () =>
          index >= 0 ?
           {value: array[index--], done: false} :
           {done: true}
    }
}

const it = reverseArrayIterator(['three', 'two', 'one']);
console.log(it.next().value);  //-> 'one'
console.log(it.next().value);  //-> 'two'
console.log(it.next().value);  //-> 'three'
console.log(`Are you done? ${it.next().done}`);  //-> true





// sample code
// Fibonacci number
// 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144,...
class FibonacciIterator {
    constructor() {
        this.previous = 1;
        this.beforePrevious = 1;
    }
    next() {
        var current = this.previous + this.beforePrevious;
        this.beforePrevious = this.previous;
        this.previous = current;
        return current;
    }
}
const fib = new FibonacciIterator();
console.log(fib.next());
console.log(fib.next());
console.log(fib.next());
console.log(fib.next());
console.log(fib.next());
</script>

</body>

</html>
